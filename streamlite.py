# -*- coding: utf-8 -*-
"""streamlite.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/14OgFqLiz6nZPZxoHOZpbXo3wzFPNPVo3
"""

!pip install -q streamlit

!pip install pyngrok

# Commented out IPython magic to ensure Python compatibility.
# %%writefile run2.py
# import streamlit as st
# import pickle
# import numpy as np
# import pandas as pd
# #load the model and dataframe
# df = pd.read_csv("df2.csv")
# pipe = pickle.load(open("pipe2.pkl", "rb"))
# st.title("Laptop Price Predictor")
# #Now we will take user input one by one as per our dataframe
# #Brand
# #company = st.selectbox('Brand', df['Company'].unique())
# age = st.selectbox('House Age', df['age'].unique())
# #Type of laptop
# distance = st.selectbox("Distance from nearest Metro station (km)", df['distance'].unique())
# #Type of laptop
# stores = st.selectbox("Number of convenience stores", df['stores'].unique())
# #Ram
# bedrooms = st.selectbox("bedrooms", [1,2,3])
# #weight
# size = st.selectbox("House size (sqft)", df['size'].unique())
# 
# #Prediction
# 
# query = np.array([age,distance,stores,bedrooms,size])
# query = query.reshape(1, 5)
# prediction = str(int(np.exp(pipe.predict(query)[0])))
# st.title("The predicted price of this configuration is " + prediction)

from pyngrok import ngrok

ngrok.set_auth_token("2IE62hDnofayqwNtdjHVTDmP63I_rTmZVoMJFcWWbDCWNFRL")

!nohup streamlit run run2.py --server.port 80 &
url = ngrok.connect(port = '80')
print(url)

from pyngrok import ngrok

tunnels = ngrok.get_tunnels()
tunnels